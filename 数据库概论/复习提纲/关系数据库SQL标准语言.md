

3. 数据定义

* 基本表
    1. 定义基本表
    2. 修改基本表
    3. 删除表
    

* 索引
    1. 索引原理的类别
        * 顺序索引
        * B+树索引
        * 散列索引
        * 位图索引
    2. 索引的使用
        1. 索引的使用对象
            * 索引的创建者为表的拥有者或数据库管理员
            * 索引的使用者不能显式选择索引，有数据库管理系统执行查询是会自动选择合适的索引
        2. 索引的优缺点
            * 优点：加速查询的速度/由数据库系统维护，不需要用户干预
            * 缺点：占用另外的存储空间/在进行表更新如增删改的时候需要维护索引，这会增加数据库的负担
        3. 索引的建立
        `create unique index stuno on student(stu_id asc,stu_name desc);` 唯一索引
        `create cluster index stuno on student(stu_id asc,stu_name desc);`聚簇索引
        `create index stuno on student(stu_id asc,stu_name desc);` 普通索引
        4. 索引名字的更改
        `alter index stuno rename to stuno1;`
        5. 索引的删除
        `drop index stuno;`

5. 数据更新

* 数据删除
    * 删除一个数据记录
    `delete from student where stu_id=1001;`
    * 删除所有数据元组
    `delete from student;`
    * 带子查询的删除语句
    `delete from student where stu_id in (select stu_id from student where stu_id>1000);`
* 数据修改
    * 修改一个数据记录
    `update student set stu_name='张三' where stu_id=1001;`
    * 带子查询的修改语句
    `update student set stu_name='张三' where stu_id in (select stu_id from student where stu_id>1000);`
    * 修改所有的数据记录
    `update student set stu_name='张三';`
* 数据插入
    * 插入数据
    * 插入子查询结果



7. 视图
* 视图的定义
    * 它是一个虚表，没有数据，数据还在基本表中。
    * 视图定义就是一个保存在数据字典中的查询
    * 在对视图进行查询时，才会按照视图的定义从基本表中将数据查询出来。
    * 视图像是一个特定大小的过滤镜，能够让你看到基本表的部分数据。
    * 基本表发生改变，你的视图查询得到数据也会发生改变。
* 视图的概念
    * 分组视图：用带有聚集函数和group by的子句定义的视图
    * 带表达式的视图：带有虚拟列的视图（虚拟列是指基本表中没有的列，它是构造的表达式）
    * 行列子集视图：由一个基本表导出，但是抛弃了部分的列和行，保留了主键的视图

* 视图从何处建立
    * 来自一个或者多个表
    * 来自一个或者多个视图
    * 来自表和视图的结合


* 视图可进行的操作
    * 定义视图
        * with check option
        在视图上进行删除/更新/插入操作时会检查视图中定义的条件，不满足的话可以拒绝执行操作
    * 删除一个视图
        * 普通删除
            1. 从数据字典中删除视图的定义。
            2. 即是是基本表被删除，视图不会自动删除，需要手动删除
        * CASCADE级联删除
        使用级联删除对在视图上定义的视图进行顺带删除
    * 查询视图
        * 视图消解
            1. 从数字字典中找出视图的定义
            2. 结合视图定义中的子查询和用户查询
            3. 转换成对基本表的等价查询
            4. 执行等价的查询
        * 无法视图消解的情况
            * 对非行列子集视图可能无法进行视图消解
    * 更新视图
        * update
        * insert
        * delete

* 视图的作业
    1. 简化用户的查询
    能够隐藏负责的查询工作，用户只需要在视图的基础上做简答查询
    2. 对重构后的数据库提供逻辑上的独立性
    在数据库表重构后，在新表基础上构建的视图仍然能够提供应用程序相应的数据
    给数据库提供逻辑独立性,即是进行重构数据库，用户的应用程序也不受影响。
    3. 对机密数据提供安全保护
    能够给不同用户提供不同的视图，一些用户无法查看到机密数据