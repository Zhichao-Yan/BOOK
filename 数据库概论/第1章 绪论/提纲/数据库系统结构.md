# 数据库系统结构

### 从不同角度分析
从数据库应用开发人员角度：三级模式

从数据库用户角度
* 单用户结构
* 主从用户结构
* 分布式
* 客户-服务器结构

### 数据库模式的概念
* 模式是数据库中全体数据的逻辑结构和特征的描述，它仅仅只涉及型的描述，而不涉及值的描述
* 一个具体的值是模型的一个实例，同一个模型可以有多个实例
* 模式是相对稳定的，而实例是相对变动的

### 数据库三级模式
几乎所有的数据库，它们在体系结构上通常都具有相同的特征，即采用三级模式结构，包括：
1. 内模式：存储模式
    * 一个数据库只有一个内模式
    * 是数据库物理结构和存储方式的描述，也是数据在数据库内部的组织方式   

存储模式：堆存储/按属性值升序降序存储/按属性值聚簇存储
索引方式：B+树索引/哈希索引
数据处理：数据是否压缩/加密
存储记录结构：定长结构/变长结构

2. 模式：也称逻辑模式，是数据库中全体数据的逻辑结构和特征的描述。
    * 一个数据库只有一个模式
    * 数据库数据在逻辑级上的视图
    * 它是数据库系统结构的中间层次，不涉及物理存储细节，也与应用程序无关
    * 数据库管理系统提供模式定语言来严格定义模式

3. 外模式：用户模式
    * 数据库用户(包括应用程序员和最终用户)能够看见和使用的局部数据的逻辑结构和特征的描述
    * 外模式是模式的子集，一个数据库可以有多个外模式。
    * 外模式是保证数据库安全性的一个有力措施。每个用户只能看见和访问所对应的外模式中的数据，数据库中的其余数据是不可见的


### 数据库的二级映像功能
为了能够在系统内部实现这三个抽象层次的联系和转换，数据库管理系统 在这三级模式之间提供了两层映像: 

外模式/模式映像：
* 模式描述的是数据的全局逻辑结构，外模式描述的是数据的局部逻辑结构
* 模式改变时，由数据库管理人员对各个外模式/模式映像进行改变
* 应用程序是依据数据的外模式编写的，从而应用程序不必修改，保证了数据与程序的逻辑独立性

模式/内模式映像：
* 定义数据全局逻辑结构与存储结构之间的对应关系
* 当数据库的存储结构改变时，由数据库管理员对模式/内模式映像作相应改变，可以使模式保持不变，从而应用程序也不用发生变化，保证了数据和程序的物理独立性。





